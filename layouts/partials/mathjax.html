<script type="text/javascript" async
  src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<script>
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$', '$'], ['\$', '\$']],  // 行内公式分隔符
      displayMath: [['$$', '$$'], ['\$$', '\$$']],  // 块级公式分隔符
      processEscapes: true,  // 允许 \$ 转义为普通美元符号
      processEnvironments: true,  // 解析 LaTeX 环境（如 equation）
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']  // 跳过这些标签内的内容
    },
    TeX: {
      equationNumbers: { autoNumber: "AMS" },  // 自动编号公式
      extensions: ["AMSmath.js", "AMSsymbols.js"]  // 扩展宏包支持
    }
  });
  MathJax.Hub.Queue(function () {
    // 修复代码块与公式的样式冲突
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>
<style>
  code.has-jax {  /* 修复代码块样式冲突 */
    font: inherit;
    font-size: 100%;
    background: inherit;
    border: inherit;
    color: #515151;
  }
</style>